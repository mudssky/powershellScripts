# VSCode Neovim é…ç½®æŒ‡å—

## ğŸ“‹ ç›®å½•

- [ç®€ä»‹](#ç®€ä»‹)
- [å®‰è£…æŒ‡å—](#å®‰è£…æŒ‡å—)
- [æ’ä»¶ä»‹ç»](#æ’ä»¶ä»‹ç»)
- [é”®ä½æ˜ å°„](#é”®ä½æ˜ å°„)
- [ä½¿ç”¨è¯´æ˜](#ä½¿ç”¨è¯´æ˜)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## ğŸ¯ ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªä¸“é—¨ä¸º VSCode Neovim æ’ä»¶è®¾è®¡çš„é…ç½®æ–‡ä»¶ï¼Œæ—¨åœ¨ï¼š

- âœ… å¢å¼º VSCode ä¸­çš„ Vim ç¼–è¾‘ä½“éªŒ
- âœ… æä¾›å¼ºå¤§çš„æ–‡æœ¬æ“ä½œåŠŸèƒ½
- âœ… ä¸ VSCode åŠŸèƒ½å®Œç¾é›†æˆ
- âœ… é¿å…ä¸ VSCode åŸç”ŸåŠŸèƒ½å†²çª
- âœ… ä¿æŒè½»é‡çº§å’Œé«˜æ€§èƒ½

## ğŸš€ å®‰è£…æŒ‡å—

### å‰ç½®è¦æ±‚

1. **å®‰è£… VSCode Neovim æ’ä»¶**

   ```
   åœ¨ VSCode æ‰©å±•å¸‚åœºæœç´¢å¹¶å®‰è£… "VSCode Neovim"
   ```

2. **å®‰è£… Neovim**

   ```powershell
   # ä½¿ç”¨ Chocolatey
   choco install neovim
   
   # æˆ–ä½¿ç”¨ Scoop
   scoop install neovim
   
   # æˆ–ä½¿ç”¨ Winget
   winget install Neovim.Neovim
   ```

### é…ç½®å®‰è£…

1. **ä½¿ç”¨æä¾›çš„ PowerShell è„šæœ¬**

   ```powershell
   # åœ¨å½“å‰ç›®å½•è¿è¡Œè„šæœ¬
   .\setup-neovim-config.ps1
   
   # æˆ–æŒ‡å®šæºæ–‡ä»¶è·¯å¾„
   .\setup-neovim-config.ps1 -SourceConfig "path\to\vscode_init.lua"
   
   # å¼ºåˆ¶è¦†ç›–ç°æœ‰é…ç½®
   .\setup-neovim-config.ps1 -Force
   ```

2. **æ‰‹åŠ¨å®‰è£…**

   ```powershell
   # åˆ›å»ºé…ç½®ç›®å½•
   $configDir = "$env:LOCALAPPDATA\nvim"
   New-Item -ItemType Directory -Path $configDir -Force
   
   # åˆ›å»ºè½¯é“¾æ¥
   New-Item -ItemType SymbolicLink -Path "$configDir\init.lua" -Target "vscode_init.lua"
   ```

## ğŸ”Œ æ’ä»¶ä»‹ç»

### æ ¸å¿ƒæ’ä»¶

#### 1. Flash.nvim - å¿«é€Ÿè·³è½¬

**åŠŸèƒ½**: ç°ä»£åŒ–çš„å¿«é€Ÿè·³è½¬æ’ä»¶ï¼Œæ›¿ä»£ä¼ ç»Ÿçš„ EasyMotion

**ä½¿ç”¨æ–¹æ³•**:

- `s` + å­—ç¬¦: è·³è½¬åˆ°æŒ‡å®šå­—ç¬¦
- `S`: åŸºäºè¯­æ³•æ ‘çš„æ™ºèƒ½è·³è½¬

**é…ç½®ç‰¹ç‚¹**:

- å¯ç”¨å­—ç¬¦è·³è½¬æ ‡ç­¾
- æ”¯æŒå¤šç§è·³è½¬æ¨¡å¼
- ä¸ VSCode å®Œç¾é›†æˆ

#### 2. ReplaceWithRegister - å¯„å­˜å™¨æ›¿æ¢

**åŠŸèƒ½**: ä½¿ç”¨å¯„å­˜å™¨å†…å®¹æ›¿æ¢æ–‡æœ¬ï¼Œæ— éœ€è¿›å…¥æ’å…¥æ¨¡å¼

**ä½¿ç”¨æ–¹æ³•**:

- `gr{motion}`: ç”¨å¯„å­˜å™¨å†…å®¹æ›¿æ¢ motion é€‰ä¸­çš„æ–‡æœ¬
- `grr`: æ›¿æ¢æ•´è¡Œ
- `gr` (å¯è§†æ¨¡å¼): æ›¿æ¢é€‰ä¸­çš„æ–‡æœ¬

**ä½¿ç”¨åœºæ™¯**:

```
1. å¤åˆ¶ä¸€æ®µæ–‡æœ¬ (yy)
2. é€‰æ‹©è¦æ›¿æ¢çš„æ–‡æœ¬
3. æŒ‰ gr å³å¯æ›¿æ¢
```

#### 3. nvim-surround - åŒ…å›´ç¬¦å·æ“ä½œ

**åŠŸèƒ½**: å¿«é€Ÿæ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹åŒ…å›´ç¬¦å·ï¼ˆæ‹¬å·ã€å¼•å·ç­‰ï¼‰

**ä½¿ç”¨æ–¹æ³•**:

- `ys{motion}{char}`: æ·»åŠ åŒ…å›´ç¬¦å·
- `ds{char}`: åˆ é™¤åŒ…å›´ç¬¦å·
- `cs{old}{new}`: ä¿®æ”¹åŒ…å›´ç¬¦å·

**ç¤ºä¾‹**:

```
åŸæ–‡æœ¬: hello world
æŒ‰é”®: ysiw"     -> "hello" world
æŒ‰é”®: ds"        -> hello world
æŒ‰é”®: cs"'       -> 'hello' world
```

#### 4. Comment.nvim - æ™ºèƒ½æ³¨é‡Š

**åŠŸèƒ½**: æ™ºèƒ½çš„ä»£ç æ³¨é‡Šåˆ‡æ¢ï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€

**ä½¿ç”¨æ–¹æ³•**:

- `gcc`: åˆ‡æ¢å½“å‰è¡Œæ³¨é‡Š
- `gc{motion}`: æ³¨é‡Š motion é€‰ä¸­çš„å†…å®¹
- `gc` (å¯è§†æ¨¡å¼): æ³¨é‡Šé€‰ä¸­çš„å†…å®¹

**ç‰¹ç‚¹**:

- è‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç±»å‹
- æ”¯æŒå—æ³¨é‡Šå’Œè¡Œæ³¨é‡Š
- æ™ºèƒ½å¤„ç†ç¼©è¿›

#### 5. mini.ai - å¢å¼ºæ–‡æœ¬å¯¹è±¡

**åŠŸèƒ½**: æä¾›æ›´å¼ºå¤§å’Œæ™ºèƒ½çš„æ–‡æœ¬å¯¹è±¡

**æ–°å¢æ–‡æœ¬å¯¹è±¡**:

- `ao`/`io`: ä»£ç å—ï¼ˆå‡½æ•°ã€å¾ªç¯ã€æ¡ä»¶è¯­å¥ï¼‰
- `af`/`if`: å‡½æ•°
- `ac`/`ic`: ç±»

**ä½¿ç”¨ç¤ºä¾‹**:

```
daf  -> åˆ é™¤æ•´ä¸ªå‡½æ•°
vif  -> é€‰ä¸­å‡½æ•°å†…å®¹
cio  -> ä¿®æ”¹ä»£ç å—å†…å®¹
```

#### 6. which-key.nvim - é”®ä½æç¤º

**åŠŸèƒ½**: æ˜¾ç¤ºå¯ç”¨çš„é”®ä½ç»„åˆï¼ˆå¯é€‰ï¼ŒVSCode å·²æœ‰ç±»ä¼¼åŠŸèƒ½ï¼‰

**ç‰¹ç‚¹**:

- å®æ—¶æ˜¾ç¤ºé”®ä½æç¤º
- æ”¯æŒè‡ªå®šä¹‰åˆ†ç»„
- ä¸ VSCode WhichKey äº’è¡¥

## âŒ¨ï¸ é”®ä½æ˜ å°„

### åŸºç¡€é”®ä½

| é”®ä½ | æ¨¡å¼ | åŠŸèƒ½ | æè¿° |
|------|------|------|------|
| `jj` | Insert | `<Esc>` | å¿«é€Ÿé€€å‡ºæ’å…¥æ¨¡å¼ |
| `<leader>n` | Normal | `:nohlsearch` | æ¸…é™¤æœç´¢é«˜äº® |
| `j`/`k` | Normal | `gj`/`gk` | æ™ºèƒ½è¡Œç§»åŠ¨ |
| `<C-h/j/k/l>` | Normal | çª—å£å¯¼èˆª | åœ¨åˆ†å‰²çª—å£é—´ç§»åŠ¨ |
| `>`/`<` | Visual | ç¼©è¿›è°ƒæ•´ | ä¿æŒé€‰æ‹©çŠ¶æ€ |
| `J`/`K` | Visual | è¡Œç§»åŠ¨ | ä¸Šä¸‹ç§»åŠ¨é€‰ä¸­è¡Œ |

### VSCode é›†æˆé”®ä½

#### æ–‡ä»¶æ“ä½œ

| é”®ä½ | åŠŸèƒ½ | VSCode å‘½ä»¤ |
|------|------|-------------|
| `<leader>w` | ä¿å­˜æ–‡ä»¶ | `workbench.action.files.save` |
| `<leader>ff` | æŸ¥æ‰¾æ–‡ä»¶ | `workbench.action.quickOpen` |
| `<leader>fg` | å…¨å±€æœç´¢ | `workbench.action.findInFiles` |
| `<leader>fs` | æŸ¥æ‰¾ç¬¦å· | `workbench.action.gotoSymbol` |

#### ç•Œé¢æ“ä½œ

| é”®ä½ | åŠŸèƒ½ | VSCode å‘½ä»¤ |
|------|------|-------------|
| `<leader>e` | åˆ‡æ¢èµ„æºç®¡ç†å™¨ | `workbench.view.explorer` |
| `<leader>g` | åˆ‡æ¢ Git é¢æ¿ | `workbench.view.scm` |
| `<leader>x` | åˆ‡æ¢æ‰©å±•é¢æ¿ | `workbench.view.extensions` |
| `<leader>t` | åˆ‡æ¢ç»ˆç«¯ | `workbench.action.terminal.toggleTerminal` |
| `<leader>p` | åˆ‡æ¢é¢æ¿ | `workbench.action.togglePanel` |

#### ä»£ç æ“ä½œ

| é”®ä½ | åŠŸèƒ½ | VSCode å‘½ä»¤ |
|------|------|-------------|
| `<leader>ca` | ä»£ç æ“ä½œ | `editor.action.quickFix` |
| `<leader>cr` | é‡å‘½åç¬¦å· | `editor.action.rename` |
| `<leader>cf` | æ ¼å¼åŒ–æ–‡æ¡£ | `editor.action.formatDocument` |
| `gd` | è·³è½¬åˆ°å®šä¹‰ | `editor.action.revealDefinition` |
| `gr` | æŸ¥çœ‹å¼•ç”¨ | `editor.action.goToReferences` |
| `gi` | è·³è½¬åˆ°å®ç° | `editor.action.goToImplementation` |

#### ä¹¦ç­¾æ“ä½œ

| é”®ä½ | åŠŸèƒ½ | VSCode å‘½ä»¤ |
|------|------|-------------|
| `<leader>bt` | åˆ‡æ¢ä¹¦ç­¾ | `bookmarks.toggle` |
| `<leader>bl` | åˆ—å‡ºä¹¦ç­¾ | `bookmarks.listFromAllFiles` |

#### é€šç”¨æ“ä½œ

| é”®ä½ | åŠŸèƒ½ | æè¿° |
|------|------|------|
| `<space>` | WhichKey | æ˜¾ç¤ºå¯ç”¨å‘½ä»¤ |
| `<leader>/` | åˆ‡æ¢æ³¨é‡Š | æ³¨é‡Š/å–æ¶ˆæ³¨é‡Š |

## ğŸ“– ä½¿ç”¨è¯´æ˜

### æ—¥å¸¸å·¥ä½œæµç¨‹

1. **æ–‡ä»¶å¯¼èˆª**

   ```
   <leader>ff  -> å¿«é€Ÿæ‰“å¼€æ–‡ä»¶
   <leader>fg  -> å…¨å±€æœç´¢å†…å®¹
   <leader>fs  -> æœç´¢ç¬¦å·
   ```

2. **ä»£ç ç¼–è¾‘**

   ```
   s + å­—ç¬¦     -> å¿«é€Ÿè·³è½¬
   ys + åŠ¨ä½œ + ç¬¦å· -> æ·»åŠ åŒ…å›´ç¬¦å·
   gcc         -> åˆ‡æ¢æ³¨é‡Š
   gr + åŠ¨ä½œ    -> æ›¿æ¢æ–‡æœ¬
   ```

3. **ä»£ç å¯¼èˆª**

   ```
   gd          -> è·³è½¬åˆ°å®šä¹‰
   gr          -> æŸ¥çœ‹å¼•ç”¨
   gi          -> è·³è½¬åˆ°å®ç°
   ```

4. **ç•Œé¢ç®¡ç†**

   ```
   <leader>e   -> åˆ‡æ¢æ–‡ä»¶æ ‘
   <leader>t   -> åˆ‡æ¢ç»ˆç«¯
   <leader>g   -> åˆ‡æ¢ Git é¢æ¿
   ```

### é«˜çº§æŠ€å·§

#### 1. æ–‡æœ¬å¯¹è±¡ç»„åˆ

```
daf    -> åˆ é™¤æ•´ä¸ªå‡½æ•°
vif    -> é€‰æ‹©å‡½æ•°å†…å®¹
cio    -> ä¿®æ”¹ä»£ç å—å†…å®¹
yao    -> å¤åˆ¶æ•´ä¸ªä»£ç å—
```

#### 2. åŒ…å›´ç¬¦å·æ“ä½œ

```
# ç»™å•è¯æ·»åŠ å¼•å·
ysiw"   -> "word"

# ç»™æ•´è¡Œæ·»åŠ æ‹¬å·
yss)    -> (entire line)

# ä¿®æ”¹åŒ…å›´ç¬¦å·
cs"'    -> "word" å˜æˆ 'word'

# åˆ é™¤åŒ…å›´ç¬¦å·
ds"     -> "word" å˜æˆ word
```

#### 3. å¿«é€Ÿè·³è½¬æŠ€å·§

```
# è·³è½¬åˆ°æŒ‡å®šå­—ç¬¦
s + t   -> è·³è½¬åˆ°ä¸‹ä¸€ä¸ª 't'

# è¯­æ³•æ ‘è·³è½¬
S       -> æ™ºèƒ½è·³è½¬åˆ°è¯­æ³•å…ƒç´ 
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ’ä»¶æ— æ³•åŠ è½½

**ç—‡çŠ¶**: å¯åŠ¨æ—¶å‡ºç°æ’ä»¶é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:

```powershell
# æ£€æŸ¥ Neovim ç‰ˆæœ¬
nvim --version

# é‡æ–°å®‰è£… lazy.nvim
Remove-Item -Recurse -Force "$env:LOCALAPPDATA\nvim-data\lazy"
```

#### 2. VSCode å‘½ä»¤æ— æ³•æ‰§è¡Œ

**ç—‡çŠ¶**: æŒ‰é”®æ— å“åº”æˆ–æŠ¥é”™

**è§£å†³æ–¹æ¡ˆ**:

1. ç¡®ä¿ VSCode Neovim æ’ä»¶å·²å¯ç”¨
2. æ£€æŸ¥ VSCode è®¾ç½®ä¸­çš„ Neovim è·¯å¾„
3. é‡å¯ VSCode

#### 3. é”®ä½å†²çª

**ç—‡çŠ¶**: æŸäº›é”®ä½ä¸å·¥ä½œ

**è§£å†³æ–¹æ¡ˆ**:

1. æ£€æŸ¥ VSCode é”®ä½ç»‘å®šè®¾ç½®
2. åœ¨ VSCode è®¾ç½®ä¸­ç¦ç”¨å†²çªçš„é”®ä½
3. ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„é”®ä½æ˜ å°„

#### 4. æ€§èƒ½é—®é¢˜

**ç—‡çŠ¶**: ç¼–è¾‘å™¨å“åº”ç¼“æ…¢

**è§£å†³æ–¹æ¡ˆ**:

1. å‡å°‘æ’ä»¶æ•°é‡
2. ä½¿ç”¨ `event = 'VeryLazy'` å»¶è¿ŸåŠ è½½
3. æ£€æŸ¥æ’ä»¶é…ç½®æ˜¯å¦åˆç†

### é…ç½®éªŒè¯

```powershell
# æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
nvim --headless -c "luafile $env:LOCALAPPDATA\nvim\init.lua" -c "qa"

# æŸ¥çœ‹æ’ä»¶çŠ¶æ€
nvim -c "Lazy" -c "qa"
```

### æ—¥å¿—è°ƒè¯•

```lua
-- åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ è°ƒè¯•ä¿¡æ¯
vim.notify("Config loaded successfully", vim.log.levels.INFO)

-- æ£€æŸ¥æ’ä»¶æ˜¯å¦åŠ è½½
if pcall(require, 'flash') then
  vim.notify("Flash plugin loaded", vim.log.levels.INFO)
else
  vim.notify("Flash plugin failed to load", vim.log.levels.ERROR)
end
```

## ğŸ“š å‚è€ƒèµ„æº

- [VSCode Neovim æ’ä»¶æ–‡æ¡£](https://github.com/vscode-neovim/vscode-neovim)
- [Lazy.nvim æ–‡æ¡£](https://lazy.folke.io/)
- [Flash.nvim æ–‡æ¡£](https://github.com/folke/flash.nvim)
- [nvim-surround æ–‡æ¡£](https://github.com/kylechui/nvim-surround)
- [Comment.nvim æ–‡æ¡£](https://github.com/numToStr/Comment.nvim)
- [mini.ai æ–‡æ¡£](https://github.com/echasnovski/mini.nvim/blob/main/readmes/mini-ai.md)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé…ç½®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

---

**äº«å—ä½ çš„ VSCode Neovim ä½“éªŒï¼** ğŸ‰
