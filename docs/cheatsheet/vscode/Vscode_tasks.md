
### **VS Code Tasks å¿«é€Ÿå‚è€ƒ (Cheatsheet)**

VS Code Tasks æ˜¯ä¸€ä¸ªå†…ç½®åŠŸèƒ½ï¼Œç”¨äºè‡ªåŠ¨åŒ–å’Œé›†æˆå¤–éƒ¨å·¥å…·å‘½ä»¤ï¼ˆå¦‚ç¼–è¯‘ã€è¿è¡Œè„šæœ¬ã€æ‰“åŒ…ï¼‰ã€‚æ— éœ€ç¦»å¼€ç¼–è¾‘å™¨ï¼Œå³å¯ä¸€é”®æ‰§è¡Œç»ˆç«¯å‘½ä»¤ã€‚

---

### **ğŸš€ æ ¸å¿ƒæµç¨‹ï¼šåˆ›å»ºä¸è¿è¡Œ**

#### **1. åˆ›å»º `tasks.json` æ–‡ä»¶**

1. æŒ‰ `F1` æˆ– `Ctrl+Shift+P` (macOS: `Cmd+Shift+P`) æ‰“å¼€å‘½ä»¤é¢æ¿ã€‚
2. è¾“å…¥ `Tasks: Configure Task` (ä»»åŠ¡: é…ç½®ä»»åŠ¡)ã€‚
3. é€‰æ‹© `Create tasks.json file from template` (ä»æ¨¡æ¿åˆ›å»º tasks.json æ–‡ä»¶)ã€‚
4. é€‰æ‹© `Others` (å…¶ä»–) æ¥åˆ›å»ºä¸€ä¸ªé€šç”¨çš„ã€å¯è‡ªå®šä¹‰çš„æ¨¡æ¿ã€‚

è¿™ä¼šåœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.vscode/tasks.json` æ–‡ä»¶ã€‚

#### **2. è¿è¡Œä»»åŠ¡**

| æ“ä½œ (Action) | å¿«æ·é”® / å‘½ä»¤ | è¯´æ˜ (Description) |
| :--- | :--- | :--- |
| **è¿è¡ŒæŒ‡å®šä»»åŠ¡** | `F1` > `Tasks: Run Task` | æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨ä»»åŠ¡åˆ—è¡¨ï¼Œä¾›ä½ é€‰æ‹©ã€‚ |
| **è¿è¡Œé»˜è®¤æ„å»ºä»»åŠ¡** | `Ctrl+Shift+B` (macOS: `Cmd+Shift+B`) | ç›´æ¥è¿è¡Œè¢«æ ‡è®°ä¸ºé»˜è®¤çš„æ„å»ºä»»åŠ¡ï¼Œæœ€é«˜æ•ˆï¼ |
| **é‡æ–°è¿è¡Œä¸Šæ¬¡ä»»åŠ¡** | `F1` > `Tasks: Rerun Last Task` | æ— éœ€é€‰æ‹©ï¼Œå¿«é€Ÿé‡å¤æ‰§è¡Œä¸Šä¸€ä¸ªä»»åŠ¡ã€‚ |

---

### **ğŸ”§ `tasks.json` ç»“æ„ä¸æ ¸å¿ƒå±æ€§**

è¿™æ˜¯ä¸€ä¸ªåŒ…å«å¸¸ç”¨é…ç½®çš„ `tasks.json` ç¤ºä¾‹ï¼š

```json
{
  "version": "2.0.0", // æ–‡ä»¶æ ¼å¼ç‰ˆæœ¬ï¼Œå¿…é¡»æ˜¯ "2.0.0"
  "tasks": [
    {
      "label": "Build C++ Project", // ä»»åŠ¡åç§°ï¼Œåœ¨åˆ—è¡¨ä¸­æ˜¾ç¤º
      "type": "shell", // ä»»åŠ¡ç±»å‹ï¼Œ'shell' æˆ– 'process'
      "command": "g++", // è¦æ‰§è¡Œçš„å‘½ä»¤
      "args": [ // ä¼ é€’ç»™å‘½ä»¤çš„å‚æ•°åˆ—è¡¨
        "-g",
        "${file}",
        "-o",
        "${fileDirname}/${fileBasenameNoExtension}"
      ],
      "group": { // å°†ä»»åŠ¡åˆ†ç»„ï¼Œç”¨äºå¿«æ·é”®
        "kind": "build", // åˆ†ç»„ç±»å‹ï¼Œå¯ä»¥æ˜¯ 'build' æˆ– 'test'
        "isDefault": true // è®¾ç½®ä¸ºé»˜è®¤æ„å»ºä»»åŠ¡ (Ctrl+Shift+B)
      },
      "presentation": { // æ§åˆ¶ä»»åŠ¡ç»ˆç«¯çš„è¡Œä¸º
        "echo": true, // åœ¨ç»ˆç«¯æ˜¾ç¤ºæ‰§è¡Œçš„å‘½ä»¤
        "reveal": "always", // æ€»æ˜¯æ˜¾ç¤ºç»ˆç«¯é¢æ¿
        "focus": false, // ä¸æŠŠç„¦ç‚¹è‡ªåŠ¨åˆ‡æ¢åˆ°ç»ˆç«¯
        "panel": "shared", // æ‰€æœ‰ä»»åŠ¡å…±äº«ä¸€ä¸ªç»ˆç«¯
        "clear": true // æ¯æ¬¡è¿è¡Œæ—¶æ¸…ç©ºç»ˆç«¯
      },
      "problemMatcher": [ // é—®é¢˜åŒ¹é…å™¨ï¼Œç”¨äºæ•æ‰é”™è¯¯å’Œè­¦å‘Š
        "$gcc" // ä½¿ç”¨å†…ç½®çš„ GCC ç¼–è¯‘å™¨é”™è¯¯åŒ¹é…å™¨
      ]
    },
    {
      "label": "Run Python Script",
      "type": "shell",
      "command": "python3 ${file}",
      "problemMatcher": [] // å¦‚æœä¸éœ€è¦æ•æ‰é—®é¢˜ï¼Œç•™ç©ºå³å¯
    }
  ]
}
```

#### **å…³é”®å±æ€§è¯¦è§£**

| å±æ€§ (Property) | ç±»å‹ (Type) | è¯´æ˜ (Description) |
| :--- | :--- | :--- |
| `label` | `string` | **å¿…éœ€**ã€‚ä»»åŠ¡çš„å”¯ä¸€åç§°ï¼Œç”¨äºåœ¨UIä¸­è¯†åˆ«ã€‚ |
| `type` | `string` | **å¿…éœ€**ã€‚ä»»åŠ¡ç±»å‹ã€‚æœ€å¸¸ç”¨çš„æ˜¯ `shell`ï¼ˆåœ¨shellä¸­æ‰§è¡Œï¼‰å’Œ `process`ï¼ˆä½œä¸ºç‹¬ç«‹è¿›ç¨‹æ‰§è¡Œï¼‰ã€‚è¿˜æœ‰ `npm`ã€`gulp` ç­‰ä¸“ç”¨ç±»å‹ã€‚ |
| `command` | `string` | **å¿…éœ€**ã€‚è¦æ‰§è¡Œçš„å‘½ä»¤æˆ–å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ã€‚ |
| `args` | `string[]` | ä¼ é€’ç»™ `command` çš„å‚æ•°æ•°ç»„ã€‚ |
| `group` | `object` | å°†ä»»åŠ¡å½’ç±»ä¸º `build` æˆ– `test` ä»»åŠ¡ï¼Œå¹¶å¯è®¾ä¸º `isDefault: true` ä»¥ä¾¿é€šè¿‡å¿«æ·é”®è¿è¡Œã€‚ |
| `problemMatcher`| `string \| string[]` | **æ ¸å¿ƒåŠŸèƒ½**ã€‚ç”¨äºè§£æä»»åŠ¡è¾“å‡ºï¼Œå¹¶åœ¨â€œé—®é¢˜â€é¢æ¿ä¸­æ˜¾ç¤ºé”™è¯¯/è­¦å‘Šã€‚VS Code å†…ç½®äº† `$gcc`, `$tsc`, `$eslint-compact` ç­‰ã€‚ |
| `dependsOn` | `string[]` | å®šä¹‰å‰ç½®ä»»åŠ¡ã€‚è¿è¡Œæ­¤ä»»åŠ¡å‰ï¼Œä¼šå…ˆæŒ‰é¡ºåºæ‰§è¡Œä¾èµ–çš„ä»»åŠ¡ã€‚ |
| `presentation` | `object` | æ§åˆ¶ä»»åŠ¡ç»ˆç«¯çš„å¤–è§‚å’Œè¡Œä¸ºï¼Œå¦‚æ˜¯å¦æ¸…å±ã€æ˜¯å¦è‡ªåŠ¨æ˜¾ç¤ºç­‰ã€‚ |
| `options` | `object` | é…ç½®ä»»åŠ¡æ‰§è¡Œç¯å¢ƒï¼Œå¦‚ `cwd` (å½“å‰å·¥ä½œç›®å½•)ã€‚ |

---

### **âœ¨ å¸¸ç”¨å˜é‡ (è®©ä»»åŠ¡æ›´çµæ´»)**

åœ¨ `command`, `args`, `options` ä¸­ä½¿ç”¨è¿™äº›å˜é‡ï¼Œè®©ä½ çš„ä»»åŠ¡å˜å¾—é€šç”¨ã€‚

| å˜é‡ (Variable) | è¯´æ˜ (Description) | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `${workspaceFolder}` | å·¥ä½œåŒºçš„æ ¹ç›®å½•è·¯å¾„ | `/home/user/my-project` |
| `${file}` | å½“å‰æ´»åŠ¨ç¼–è¾‘å™¨çš„å®Œæ•´æ–‡ä»¶è·¯å¾„ | `/home/user/my-project/src/main.js` |
| `${fileDirname}` | å½“å‰æ–‡ä»¶çš„ç›®å½•è·¯å¾„ | `/home/user/my-project/src` |
| `${fileBasename}` | å½“å‰æ–‡ä»¶çš„æ–‡ä»¶åï¼ˆå«æ‰©å±•åï¼‰ | `main.js` |
| `${fileBasenameNoExtension}` | å½“å‰æ–‡ä»¶çš„æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰ | `main` |
| `${fileExtname}` | å½“å‰æ–‡ä»¶çš„æ‰©å±•å | `.js` |
| `${lineNumber}` | å½“å‰å…‰æ ‡æ‰€åœ¨çš„è¡Œå· | `42` |
| `${selectedText}` | å½“å‰ç¼–è¾‘å™¨ä¸­é€‰ä¸­çš„æ–‡æœ¬ | `console.log('Hello')` |

---

### **ğŸ’¡ å®ç”¨ç¤ºä¾‹ (å³æ’å³ç”¨)**

#### **1. ç¼–è¯‘å¹¶è¿è¡Œ C/C++ æ–‡ä»¶**

```json
{
  "label": "Compile and Run C++",
  "type": "shell",
  "command": "g++ -g '${file}' -o '${fileDirname}/${fileBasenameNoExtension}' && '${fileDirname}/${fileBasenameNoExtension}'",
  "group": "build",
  "problemMatcher": ["$gcc"]
}
```

#### **2. è¿è¡Œ NPM è„šæœ¬**

```json
{
  "label": "NPM: Start Dev Server",
  "type": "npm", // ä½¿ç”¨ npm ä¸“ç”¨ç±»å‹
  "script": "dev", // package.json ä¸­çš„è„šæœ¬å
  "problemMatcher": []
}
```

#### **3. è¿è¡Œ Python æ–‡ä»¶**

```json
{
  "label": "Run Active Python File",
  "type": "shell",
  "command": "python", // æˆ– python3
  "args": ["${file}"]
}
```

#### **4. ç»„åˆä»»åŠ¡ï¼šå…ˆæ„å»ºï¼Œå†å¯åŠ¨æœåŠ¡**

```json
{
    "tasks": [
        {
            "label": "Build",
            "type": "npm",
            "script": "build"
        },
        {
            "label": "Serve",
            "type": "shell",
            "command": "node ./dist/server.js"
        },
        {
            "label": "Build and Serve",
            "dependsOn": [ // ä¾èµ– "Build" å’Œ "Serve" ä»»åŠ¡
                "Build",
                "Serve"
            ],
            "dependsOrder": "sequence", // "sequence" è¡¨ç¤ºä¸²è¡Œæ‰§è¡Œ
            "problemMatcher": []
        }
    ]
}
```

---

### **â­ æœ€ä½³å®è·µ**

* **é»˜è®¤æ„å»ºä»»åŠ¡**ï¼šå°†æœ€å¸¸ç”¨çš„ç¼–è¯‘/æ‰“åŒ…å‘½ä»¤è®¾ä¸º `group` ä¸­çš„é»˜è®¤æ„å»ºä»»åŠ¡ï¼Œä½¿ç”¨ `Ctrl+Shift+B` ä¸€é”®è§¦å‘ã€‚
* **å–„ç”¨é—®é¢˜åŒ¹é…å™¨**ï¼šä¸ºç¼–è¯‘ã€Linter ç­‰ä»»åŠ¡é…ç½® `problemMatcher`ï¼Œå¯ä»¥æå¤§æå‡ä¿®å¤é”™è¯¯çš„æ•ˆç‡ã€‚
* **å˜é‡æ˜¯æ ¸å¿ƒ**ï¼šå¤šä½¿ç”¨ `${file}` å’Œ `${workspaceFolder}` ç­‰å˜é‡ï¼Œé¿å…ç¡¬ç¼–ç è·¯å¾„ï¼Œè®©ä»»åŠ¡å¯é‡ç”¨ã€‚
* **ä¿æŒç®€æ´**ï¼šä¸ºæ¯ä¸ªé¡¹ç›®åªé…ç½®æœ€æ ¸å¿ƒã€æœ€å¸¸ç”¨çš„ä»»åŠ¡ã€‚
