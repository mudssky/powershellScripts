# yt-dlp configuration file
# Reference: https://github.com/yt-dlp/yt-dlp#configuration

#=========================================General Options==============================================

# Continue on download errors, for example to skip unavailable videos in a playlist
--ignore-errors

# Do not overwrite files
--no-overwrites

# Force resume of partially downloaded files
--continue

#=========================================Network Options==============================================

# Use the specified HTTP/HTTPS/SOCKS proxy. 
#--proxy socks5://127.0.0.1:1080/
#--proxy http://127.0.0.1:7890

# Time to wait before giving up, in seconds
--socket-timeout 10

# User Agent (Recommended to let yt-dlp handle this automatically for better compatibility)
# --user-agent "..."

#=========================================Video Selection==============================================

# Download only videos not listed in the archive file.
--download-archive "%USERPROFILE%\\archive.txt"

#=========================================Download Options==============================================

# Number of retries (default is 10), or "infinite".
--retries infinite

# Concurrent fragment downloads (Significant speed boost for fragment-based streams)
--concurrent-fragments 5

# Number of times to retry on file access errors
--file-access-retries 5

# External downloader (aria2c is recommended if installed)
# --external-downloader aria2c
# --external-downloader-args "aria2c:--all-proxy=127.0.0.1:7890 --file-allocation=prealloc -j 16 -x 16 -k 1M"

# Security (Uncomment ONLY if you have SSL issues on old systems)
# --no-check-certificate
# --prefer-insecure

#=========================================Filesystem Options==============================================

# Output filename template
-o "%(upload_date)s %(title)s [%(id)s].%(ext)s"

# Cookies (Use this if you encounter bot detection or need to access private videos)
# --cookies-from-browser chrome

#=========================================Thumbnail and Metadata==============================================

# Write thumbnail image to disk
--write-thumbnail

#--write-all-thumbnails           Write all thumbnail image formats to disk
#--list-thumbnails                Simulate and list all available thumbnail formats

#=========================================Verbosity / Simulation Options==============================================
#=========================================Workarounds==============================================


#=========================================Video Format Options==============================================

## --format 'bestvideo[fps<31][height<1090]+bestaudio/best'
# --format 'bestvideo[fps<31][height<1090]+bestaudio/best'
#--format 'bestvideo[fps<31][height<730][ext=webm]+bestaudio/best'

# download best 30hz mp4 file , h264+aac ,use http or https protocol,because we can use aria2c downloader to have a faster speed
# --format 'bestvideo[ext=mp4][fps<31]+bestaudio[ext=m4a]/best[ext=mp4]/bestvideo+bestaudio/best'
#--format 'bestvideo[ext=mp4]+bestaudio[ext=m4a]/best[ext=mp4]/bestvideo+bestaudio/best'
#--format 'best[ext=mp4][height>710]/bestvideo[ext=mp4]+bestaudio[ext=m4a]/bestvideo+bestaudio/best'
#--format 'bestvideo[fps<31][height<730][ext=webm]+bestaudio/best[height<730][fps<30]'
#--format 'bestvideo[fps<31][height<730][ext=webm]+bestaudio/best'
#--format 'bestvideo[fps<31]+bestaudio/best'

#--youtube-skip-dash-manifest     Do not download the DASH manifests and related data on YouTube videos
#--youtube-skip-dash-manifest


#=========================================Subtitle Options==============================================

#--write-sub                      Write subtitle file
#--write-auto-sub                 Write automatically generated subtitle file (YouTube only)
#--all-subs                       Download all the available subtitles of the video
#--list-subs                      List all available subtitles for the video
#--sub-format FORMAT              Subtitle format, accepts formats preference, 
#for example: "srt" or "ass/srt/best" --sub-lang LANGS Languages of the subtitles to download (optional) separated by commas, use --list-subs for available language tags


#=========================================Video Format Options==============================================

# Preferred format: Best quality up to 1080p (to save bandwidth/storage) or best overall
--format "bestvideo[height<=1080]+bestaudio/best[height<=1080]"

# If you prefer 4K or absolute best:
# --format "bestvideo+bestaudio/best"

#=========================================SponsorBlock Options==============================================

# Automatically remove sponsor segments from YouTube videos
--sponsorblock-remove all

#=========================================Post-processing Options==============================================

# Fixup for common stream issues
--fixup warn

# Merge to mkv if needed (better metadata/subtitle support)
# --merge-output-format mkv
