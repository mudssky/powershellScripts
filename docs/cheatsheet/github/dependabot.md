è¿™æ˜¯ä¸€ä»½é€‚ç”¨äº 2025 å¹´çš„ Dependabot é…ç½®é€ŸæŸ¥è¡¨ï¼ˆCheatsheetï¼‰ã€‚åŒ…å«äº†ä½ éœ€è¦çš„ **Node.js (pnpm monorepo)**ã€**GitHub Actions** ä»¥åŠæœ€æ–°çš„ **Python (uv)** é…ç½®æ¡ˆä¾‹ã€‚

è¿™ä»½é…ç½®ä½¿ç”¨äº†æœ€æ–°çš„ **`directories`ï¼ˆé€šé…ç¬¦æ”¯æŒï¼‰** å’Œ **`groups`ï¼ˆåˆ†ç»„æ›´æ–°ï¼‰** åŠŸèƒ½ï¼Œæ—¨åœ¨å‡å°‘ PR å™ªéŸ³ã€‚

### ğŸš€ æ ¸å¿ƒ Cheatsheet (Copy & Paste)

æ–‡ä»¶è·¯å¾„: `.github/dependabot.yml`

```yaml
version: 2
updates:
  # -------------------------------------------------------
  # 1. GitHub Actions (è‡ªåŠ¨æ›´æ–° CI/CD è„šæœ¬)
  # -------------------------------------------------------
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
    groups:
      # å°†æ‰€æœ‰ Actions æ›´æ–°åˆå¹¶ä¸ºä¸€ä¸ª PR
      actions:
        patterns:
          - "*"

  # -------------------------------------------------------
  # 2. Node.js (æ”¯æŒ pnpm / npm / yarn Monorepo)
  # -------------------------------------------------------
  - package-ecosystem: "npm"
    # ä½¿ç”¨ directories + é€šé…ç¬¦ä¸€æ¬¡æ€§åŒ¹é…æ‰€æœ‰åŒ… (2024+ æ–°ç‰¹æ€§)
    directories:
      - "/"                # æ ¹ç›®å½•
      - "/packages/*"      # packages ä¸‹çš„æ‰€æœ‰å­ç›®å½•
      - "/apps/*"          # apps ä¸‹çš„æ‰€æœ‰å­ç›®å½•
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
      timezone: "Asia/Shanghai"
    # åˆ†ç»„ç­–ç•¥ï¼šå¤§å¹…å‡å°‘ PR æ•°é‡
    groups:
      # ç­–ç•¥A: æ‰€æœ‰éç ´åæ€§æ›´æ–°(minor/patch)åˆä¸ºä¸€ä¸ª PR
      non-breaking:
        patterns:
          - "*"
        update-types:
          - "minor"
          - "patch"
      # ç­–ç•¥B: ä¹Ÿå¯ä»¥æŒ‰åŠŸèƒ½åˆ†ç»„ (å¯é€‰)
      linting:
        patterns:
          - "eslint*"
          - "prettier*"

  # -------------------------------------------------------
  # 3. Python (ä½¿ç”¨ uv åŒ…ç®¡ç†å™¨) - ğŸ†• æ–°ç‰¹æ€§
  # -------------------------------------------------------
  - package-ecosystem: "uv"  # æ³¨æ„ï¼šä¸“é—¨é’ˆå¯¹ uv çš„ç”Ÿæ€ç³»ç»Ÿæ ‡è¯†
    directory: "/"           # æŒ‡å‘åŒ…å« pyproject.toml / uv.lock çš„ç›®å½•
    schedule:
      interval: "weekly"
    # åŒæ ·å¯ä»¥ä½¿ç”¨åˆ†ç»„
    groups:
      python-dependencies:
        patterns:
          - "*"
    # å¦‚æœ uv.lock å’Œ pyproject.toml ä¸åœ¨åŒä¸€ç›®å½•ï¼Œéœ€åˆ†åˆ«æŒ‡å®š
    # ä½†é€šå¸¸ uv é¡¹ç›®ç»“æ„éƒ½åœ¨æ ¹ç›®å½•ï¼Œä¸Šé¢é…ç½®å³å¯
```

---

### ğŸ” å…³é”®é…ç½®é¡¹è¯¦è§£

#### 1. Python (uv) ç‰¹åˆ«è¯´æ˜

GitHub Dependabot åœ¨è¿‘æœŸï¼ˆ2025å¹´å·¦å³ï¼‰å¢åŠ äº†å¯¹ `uv` çš„åŸç”Ÿæ”¯æŒã€‚

* **ecosystem**: å¿…é¡»å¡« `"uv"`ï¼Œè€Œä¸æ˜¯ `"pip"`ã€‚
* **æ–‡ä»¶è¯†åˆ«**: å®ƒä¼šè‡ªåŠ¨è¯†åˆ« `pyproject.toml` å’Œ `uv.lock`ã€‚
* **ä¼˜åŠ¿**: ç›¸æ¯”ä¼ ç»Ÿçš„ pipï¼ŒDependabot ä½¿ç”¨ uv è§£æä¾èµ–é€Ÿåº¦æ›´å¿«ï¼Œä¸”èƒ½æ­£ç¡®å¤„ç† uv çš„ lockfile æ ¼å¼ã€‚

#### 2. `groups` (åˆ†ç»„æ›´æ–°) - å¿…ç”¨åŠŸèƒ½

è¿™æ˜¯é˜²æ­¢ Dependabot åˆ·å±çš„ç¥å™¨ã€‚

* **`patterns: ["*"]`**: æœ€æš´åŠ›çš„åˆ†ç»„ï¼ŒæŠŠè¯¥ç”Ÿæ€ç³»ç»Ÿä¸‹çš„**æ‰€æœ‰**æ›´æ–°åˆå¹¶åˆ°ä¸€ä¸ª PR é‡Œã€‚
* **`update-types`**: å¯ä»¥é…åˆä½¿ç”¨ï¼Œä¾‹å¦‚â€œåªåˆå¹¶ patch å’Œ minor ç‰ˆæœ¬â€ï¼Œä¿ç•™ major ç‰ˆæœ¬ï¼ˆç ´åæ€§æ›´æ–°ï¼‰å•ç‹¬æ PR ä»¥ä¾¿äººå·¥å®¡æ ¸ã€‚

#### 3. `directories` (å¤šç›®å½•/é€šé…ç¬¦)

ä»¥å‰éœ€è¦ä¸ºæ¯ä¸ªå­ç›®å½•å†™ä¸€æ®µé…ç½®ï¼Œç°åœ¨æ”¯æŒ glob æ¨¡å¼ã€‚

* **å†™æ³•**: `directories: ["/packages/*"]`
* **ä½œç”¨**: è‡ªåŠ¨æ‰«æ `packages` ç›®å½•ä¸‹çš„ä¸€çº§å­æ–‡ä»¶å¤¹ï¼Œå¯»æ‰¾ `package.json`ã€‚

#### 4. `open-pull-requests-limit`

é»˜è®¤é™åˆ¶æ˜¯ 5 ä¸ª PRã€‚å¦‚æœä½ ä½¿ç”¨äº†åˆ†ç»„åŠŸèƒ½ï¼Œè¿™ä¸ªé™åˆ¶é€šå¸¸å¤Ÿç”¨ã€‚å¦‚æœæ²¡æœ‰åˆ†ç»„ï¼ŒMonorepo å¾ˆå®¹æ˜“çˆ†æ»¡ï¼Œå»ºè®®æ˜¾å¼è®¾ç½®ï¼š

```yaml
open-pull-requests-limit: 10
```

### ğŸ’¡ å¸¸ç”¨ `ignore` è§„åˆ™ç¤ºä¾‹ (é€‚ç”¨äºæ‰€æœ‰ç”Ÿæ€)

å¦‚æœä½ æƒ³å¿½ç•¥æŸäº›ç‰¹å®šåŒ…çš„å‡çº§ï¼ˆä¾‹å¦‚ä¸æƒ³å‡çº§åˆ° React 19 æˆ–æŸä¸ªæœ‰ Bug çš„ç‰ˆæœ¬ï¼‰ï¼š

```yaml
    ignore:
      # å¿½ç•¥ React çš„ä¸»ç‰ˆæœ¬æ›´æ–° (å¦‚ 18 -> 19)
      - dependency-name: "react"
        update-types: ["version-update:semver-major"]
      
      # å®Œå…¨å¿½ç•¥æŸä¸ªåŒ…
      - dependency-name: "problematic-package"
```
